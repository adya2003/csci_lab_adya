#include <stdio.h>
#include <string.h>
#include <stdbool.h>

#define NUM_TEAMS 3
#define SQUAD_SIZE 5

typedef struct {
    char name[26];
    int kitNumber;
    char club[26];
    struct {
        int day, month, year;
    } dob;
    char position[16];
} player_t;

typedef struct {
    char name[21];
    player_t players[SQUAD_SIZE];
    int activeSize;
} team_t;

void display_menu() {
    printf("1. Enroll Club\n");
    printf("2. Add Player\n");
    printf("3. Search and Update Player\n");
    printf("4. Display Club Statistics\n");
    printf("0. Exit\n");
}

void enroll_club(team_t teams[], int *teamCount) {
    if (*teamCount >= NUM_TEAMS) {
        printf("Maximum number of clubs reached.\n");
        return;
    }
    printf("Enter club name: ");
    scanf("%s", teams[*teamCount].name);
    teams[*teamCount].activeSize = 0;
    (*teamCount)++;
}

void add_player(team_t teams[], int teamCount) {
    if (teamCount == 0) {
        printf("No teams available. Enroll a club first.\n");
        return;
    }

    printf("Select team (0-%d): ", teamCount - 1);
    int teamIndex;
    scanf("%d", &teamIndex);

    if (teamIndex < 0 || teamIndex >= teamCount) {
        printf("Invalid team selection.\n");
        return;
    }

    team_t *team = &teams[teamIndex];
    if (team->activeSize >= SQUAD_SIZE) {
        printf("Team is full.\n");
        return;
    }

    player_t *player = &team->players[team->activeSize];
    printf("Enter player name: ");
    scanf("%s", player->name);

    printf("Enter kit number: ");
    scanf("%d", &player->kitNumber);

    printf("Enter date of birth (dd mm yyyy): ");
    scanf("%d %d %d", &player->dob.day, &player->dob.month, &player->dob.year);

    printf("Enter position: ");
    scanf("%s", player->position);

    team->activeSize++;
    printf("Player added successfully.\n");
}
